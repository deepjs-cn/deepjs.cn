(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{468:function(t,n,s){"use strict";s.r(n);var a=s(7),e=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[t._v("#")]),t._v(" NPM")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.npmjs.com/getting-started/what-is-npm",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹ npm æ–‡æ¡£"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://javascript.ruanyifeng.com/nodejs/npm.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é˜®ä¸€å³°-npmæ¨¡å—ç®¡ç†å™¨"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/atian25/blog/issues/17",target:"_blank",rel:"noopener noreferrer"}},[t._v("è°ƒè¯•æŠ€å·§ - npm link"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://medium.com/dailyjs/how-to-use-npm-link-7375b6219557",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding npm-link"),s("OutboundLink")],1),t._v(" ç¿»å¢™")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/atian25/blog/issues/19",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•æŒ‘é€‰é«˜è´¨é‡çš„ Node.js æ¨¡å—"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/node-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-modules"),s("OutboundLink")],1),t._v(" æ˜¯å›½å†…å¾ˆå¤š Node.js å¤§ç¥žç»´æŠ¤çš„ Groupï¼Œé‡Œé¢çš„æ¨¡å—éƒ½ç»å—ä½å¤§è§„æ¨¡çš„åº”ç”¨è€ƒè™‘ï¼Œæ ‡å‡†åŒ–å’Œè´¨é‡éƒ½ä¸é”™")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/22934066",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ºä»€ä¹ˆæˆ‘ä¸ä½¿ç”¨ shrinkwrapï¼ˆlockï¼‰"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://greenkeeper.io/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("greenkeeper"),s("OutboundLink")],1),t._v(" è‡ªåŠ¨åŒ–ä¾èµ–å…³ç³»ç®¡ç†")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#class-browser",target:"_blank",rel:"noopener noreferrer"}},[t._v("puppeteerç¥žå™¨å®˜æ–¹æ–‡æ¡£"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zhaoqize.github.io/puppeteer-api-zh_CN/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Puppeteer ä¸­æ–‡æ–‡æ¡£"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/1394htw/p/9627260.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("puppeteer å®‰è£…å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[t._v("ä½ å¯èƒ½éœ€è¦çœ‹ä¸€ä¸‹"),s("a",{attrs:{href:"https://segmentfault.com/a/1190000012606616",target:"_blank",rel:"noopener noreferrer"}},[t._v("chromiumä¸‹è½½è·³å‘"),s("OutboundLink")],1),t._v("è¿™ä¸ªæ–¹æ¡ˆï¼Œä½†è¿˜æ˜¯éœ€è¦ç¿»å‡ºåŽ»ä¸‹è½½ï¼Œ")]),t._v(" "),s("li",[t._v("å¦‚æžœä¸Šé¢æ–¹æ¡ˆä¸è¡Œï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦äº†è§£ä¸‹"),s("a",{attrs:{href:"https://juejin.im/post/5b4a043751882519790c7ad7",target:"_blank",rel:"noopener noreferrer"}},[t._v("puppeteer å®‰è£…å¤±è´¥çš„è§£å†³åŠžæ³•"),s("OutboundLink")],1),t._v("ï¼Œå°±æ˜¯åŽ»æ‹¿åˆ°ä¸‹è½½çš„é‚£ä¸ªç‰ˆæœ¬æ•°å­—ï¼Œå†åŽ»ä¸‹è½½ï¼Œä½†æ˜¯å¯èƒ½é‡åˆ°çš„é—®é¢˜æ˜¯æ‰¾ä¸åˆ°downloadURLé‚£å †é“¾æŽ¥çš„æ–‡ä»¶ï¼Œ")]),t._v(" "),s("li",[t._v("é‚£ä¹ˆä½ å°±éœ€è¦"),s("a",{attrs:{href:"https://github.com/billfeller/billfeller.github.io/issues/232",target:"_blank",rel:"noopener noreferrer"}},[t._v("puppeteerçŽ¯å¢ƒéƒ¨ç½²é—®é¢˜å°è®°"),s("OutboundLink")],1),t._v("è¿™ä¸ªæ–¹æ¡ˆï¼Œ")])])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("ã€å®‰è£… puppeteer "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NPM")]),t._v("åŒ…åŽï¼ŒæŸ¥è¯¢"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jsoné…ç½®ï¼ŒèŽ·å–ä¾èµ– "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CHROMIUM")]),t._v(" ç‰ˆæœ¬å·ï¼š\n\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"puppeteer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chromium_revision"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"543305"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("ã€å°† chromium_revision å±žæ€§å€¼æ›¿æ¢åˆ° BrowserFetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js ä¸‹è½½è·¯å¾„ï¼Œæ ¹æ®ç³»ç»ŸçŽ¯å¢ƒï¼Œè®¡ç®—èŽ·å–å®Œæ•´çš„ä¸‹è½½åœ°å€ï¼Œå®Œæˆä¸‹è½½ä»»åŠ¡ï¼š\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_DOWNLOAD_HOST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://storage.googleapis.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" downloadURLs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nlinux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%s/chromium-browser-snapshots/Linux_x64/%d/chrome-linux.zip'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nmac"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%s/chromium-browser-snapshots/Mac/%d/chrome-mac.zip'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nwin32"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%s/chromium-browser-snapshots/Win/%d/chrome-win32.zip'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nwin64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%s/chromium-browser-snapshots/Win_x64/%d/chrome-win32.zip'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("downloadURLs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_platform"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_downloadHost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" revision"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\næ¯”å¦‚ï¼Œhttps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("storage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("googleapis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("chromium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("snapshots"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Win_x64"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("543305")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("chrome"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("win32"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("ã€å°†ä¸‹è½½çš„ chrome"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip è§£åŽ‹åˆ°puppeteeræŒ‡å®šè·¯å¾„ puppeteer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("chromium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("_platform"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("chromium_revision"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("chrome"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xxx ä¸‹å³å¯ï¼›\næ¯”å¦‚ï¼šnode_modules\\puppeteer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("chromium\\win64"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("543305")]),t._v("\\chrome"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("win32\n\nè¿™é‡Œç»™å‡ºäº†å¾ˆå¤šå…¶ä»–é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œ\n")])])]),s("ul",[s("li",[t._v("åœ¨çº¿çš„é›†æˆæœåŠ¡\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TravisCI"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://circleci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CircleCI"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.appveyor.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("appveyor"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/zhangzq86/article/details/55657495",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ©ç”¨ AppVeyor å®žçŽ° GitHub æ‰˜ç®¡é¡¹ç›®çš„è‡ªåŠ¨åŒ–é›†æˆ"),s("OutboundLink")],1)])])])])])]),t._v(" "),s("p",[t._v("å…³äºŽ lerna")]),t._v(" "),s("p",[t._v("å¤šæ¨¡å—ç®¡ç†å·¥å…·ï¼Œç”¨æ¥å¸®åŠ©ç»´æŠ¤monorepo")]),t._v(" "),s("p",[t._v("P.S.Lernaæ˜¯Babelè‡ªå·±æ—¥ç”¨å¹¶å¼€æºçš„å·¥å…·ï¼Œè§ "),s("a",{attrs:{href:"https://github.com/babel/babel/blob/master/doc/design/monorepo.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Why is Babel a monorepo?"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.im/entry/586f00bc128fe100580a6f78",target:"_blank",rel:"noopener noreferrer"}},[t._v("monorepo æ–°æµªæ½®"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[t._v("monorepo(monolithic repository)ï¼Œä¸Žmultirepoç›¸å¯¹ï¼Œåˆ†åˆ«æ˜¯å•ä»£ç ä»“åº“ä¸Žå¤šä»£ç ä»“åº“ï¼ˆone-repository-per-moduleï¼‰")]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.ayqy.net/blog/lerna%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lernaå…¥é—¨æŒ‡å—"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/lerna/lerna-changelog",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”¨lerna-changelog æ¥æ¢³ç† changelog"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/galaxybing/lerna-repos-init.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨ monorepo ç»“æž„ï¼Œç®¡ç†å¤šä¸ª repo(ç¤ºä¾‹)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/pigcan/monorepo-example",target:"_blank",rel:"noopener noreferrer"}},[s("OutboundLink")],1)])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/chinanf-boy/lerna-zh",target:"_blank",rel:"noopener noreferrer"}},[t._v("lerna ä¸­æ–‡æ–‡æ¡£"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/chinanf-boy/lerna-zh/blob/master/FAQ.zh.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¸¸è§é—®é¢˜"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://lernajs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://lernajs.io/"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/szarouski/lerna-wizard",target:"_blank",rel:"noopener noreferrer"}},[t._v("lerna-wizard lernaçš„å‘½ä»¤è¡Œå‘å¯¼"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/35237759",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨lernaä¼˜é›…åœ°ç®¡ç†å¤šä¸ªpackage"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"å¸¸è§é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§é—®é¢˜","aria-hidden":"true"}},[t._v("#")]),t._v(" å¸¸è§é—®é¢˜")]),t._v(" "),s("ul",[s("li",[t._v("å¼€å‘ npm åŒ…æ³¨æ„äº‹é¡¹")]),t._v(" "),s("li",[t._v("å¼€å‘ npm åŒ…ï¼Œç›¸äº’é—´éœ€è¦å¼•ç”¨åˆå¤„äºŽå¼€å‘é˜¶æ®µï¼Œå¦‚ä½•é…ç½®è°ƒè¯•æœ€æ–¹ä¾¿")]),t._v(" "),s("li",[t._v("å‘å¸ƒ npmï¼Œä¸ç¼–è¯‘å‘å¸ƒæ˜¯å¦ OKï¼ˆä½¿ç”¨ es6æºç ï¼‰")])]),t._v(" "),s("h2",{attrs:{id:"å¸¸ç”¨å·¥å…·é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨å·¥å…·é…ç½®","aria-hidden":"true"}},[t._v("#")]),t._v(" å¸¸ç”¨å·¥å…·é…ç½®")]),t._v(" "),s("p",[t._v("è§£å†³ npm å…¨å±€å®‰è£…éœ€è¦ sudo çš„é—®é¢˜,å¯ä»¥å¦‚ä¸‹é…ç½®")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\n")])])]),s("ul",[s("li",[t._v("npm\n"),s("ul",[s("li",[s("code",[t._v("npm list -g --depth=0")]),t._v(" "),s("ul",[s("li",[t._v("æŸ¥çœ‹å…¨å±€åŒ…ä½ç½® "),s("code",[t._v("npm root -g")])]),t._v(" "),s("li",[t._v("å…¨å±€æ¨¡å—å®‰è£…è·¯å¾„ "),s("code",[t._v("/usr/local/lib/node_modules")]),t._v("ï¼Œ")])])]),t._v(" "),s("li",[s("code",[t._v("npm i -g xxx")])]),t._v(" "),s("li",[s("code",[t._v("npm uninstall -g xxx")])]),t._v(" "),s("li",[t._v("å®‰è£…æœ€æ–°ç‰ˆ "),s("code",[t._v("npm i npm@latest -g")])])])]),t._v(" "),s("li",[t._v("yarn\n"),s("ul",[s("li",[s("code",[t._v("yarn global add xxx")])]),t._v(" "),s("li",[t._v("yarn å‡çº§å…¨å±€åŒ… "),s("code",[t._v("yarn global upgrade")])]),t._v(" "),s("li",[t._v("yarn å…¨å±€æ¨¡å—å®‰è£…è·¯å¾„ "),s("code",[t._v("~/.config/yarn/global/node_modules/")])]),t._v(" "),s("li",[t._v("Yarn å‡çº§è‡ªå·± "),s("code",[t._v("curl --compressed -o- -L https://yarnpkg.com/install.sh | bash")])]),t._v(" "),s("li",[s("code",[t._v("cd ~/.config/yarn/global && yarn check || yarn install --force")])]),t._v(" "),s("li",[t._v("https://365airsoft.com/zh-CN/questions/1645066/yarn")])])]),t._v(" "),s("li",[t._v("n ç®¡ç† nodejs ç‰ˆæœ¬(æŽ¨èä½¿ç”¨ nvm)\n"),s("ul",[s("li",[s("code",[t._v("sudo n list")])]),t._v(" "),s("li",[s("code",[t._v("sudo n use x.x.x")])])])]),t._v(" "),s("li",[t._v("nvm ä¸Ž n çš„åŒºåˆ«\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/tj/n",target:"_blank",rel:"noopener noreferrer"}},[t._v("TJ å¤§ç¥žçš„ n"),s("OutboundLink")],1),t._v(" å‘½ä»¤, æ˜¯ä½œä¸ºä¸€ä¸ª node çš„æ¨¡å—è€Œå­˜åœ¨")]),t._v(" "),s("li",[t._v("è€Œ "),s("a",{attrs:{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),s("OutboundLink")],1),t._v(" æ˜¯ä¸€ä¸ªç‹¬ç«‹äºŽ node/npm çš„å¤–éƒ¨ shell è„šæœ¬ï¼Œå› æ­¤ n å‘½ä»¤ç›¸æ¯” nvm æ›´åŠ å±€é™")]),t._v(" "),s("li",[t._v("ç”±äºŽ npm å®‰è£…çš„æ¨¡å—è·¯å¾„å‡ä¸º /usr/local/lib/node_modules ï¼Œå½“ä½¿ç”¨ n åˆ‡æ¢ä¸åŒçš„ node ç‰ˆæœ¬æ—¶ï¼Œå®žé™…ä¸Šä¼šå…±ç”¨å…¨å±€çš„ node/npm ç›®å½•ã€‚ å› æ­¤ä¸èƒ½å¾ˆå¥½çš„æ»¡è¶³ã€ŽæŒ‰ä¸åŒ node ç‰ˆæœ¬ä½¿ç”¨ä¸åŒå…¨å±€ node æ¨¡å—ã€çš„éœ€æ±‚ã€‚")]),t._v(" "),s("li",[t._v("å› æ­¤å»ºè®®å„ä½å°½æ—©å¼€å§‹ä½¿ç”¨ nvm ï¼Œä»¥å…å‡ºçŽ°å…¨å±€æ¨¡å—æ— æ³•æ›´æ–°çš„é—®é¢˜ã€‚")])])]),t._v(" "),s("li",[t._v("nvm\n"),s("ul",[s("li",[s("code",[t._v("brew install nvm")])]),t._v(" "),s("li",[t._v("æ·»åŠ path"),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" NVM_DIR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOME")]),t._v('/.nvm"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -s "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/opt/nvm/nvm.sh"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/opt/nvm/nvm.sh"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This loads nvm")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -s "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/opt/nvm/etc/bash_completion.d/nvm"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/opt/nvm/etc/bash_completion.d/nvm"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This loads nvm bash_completion")]),t._v("\n")])])])]),t._v(" "),s("li",[s("code",[t._v("nvm install node")]),t._v(" å®‰è£…æœ€æ–°ç‰ˆ node")]),t._v(" "),s("li",[s("code",[t._v("nvm install --lts")]),t._v(" å®‰è£…LTSç‰ˆæœ¬ node")]),t._v(" "),s("li",[t._v("å®‰è£…ä¹‹åŽå°±åˆ é™¤ä¹‹å‰å®‰è£…çš„å…¨å±€ npm åŒ…,é‡æ–°ä½¿ç”¨ nvm å®‰è£… node,å¹¶é‡æ–°å®‰è£…å…¨å±€ npm åŒ…")]),t._v(" "),s("li",[s("code",[t._v("npm ls -g --depth=0")]),t._v(" æŸ¥çœ‹å·²ç»å®‰è£…åœ¨å…¨å±€çš„æ¨¡å—ï¼Œä»¥ä¾¿åˆ é™¤è¿™äº›å…¨å±€æ¨¡å—åŽå†æŒ‰ç…§ä¸åŒçš„ node ç‰ˆæœ¬é‡æ–°è¿›è¡Œå…¨å±€å®‰è£…")]),t._v(" "),s("li",[s("code",[t._v("sudo rm -rf /usr/local/lib/node_modules")]),t._v(" åˆ é™¤å…¨å±€ node_modules ç›®å½•")]),t._v(" "),s("li",[s("code",[t._v("sudo rm /usr/local/bin/node")]),t._v(" åˆ é™¤ node")]),t._v(" "),s("li",[s("code",[t._v("sudo rm -rf /usr/local/n/")]),t._v(" åˆ é™¤ n ç›¸å…³")]),t._v(" "),s("li",[s("code",[t._v("cd /usr/local/bin && ls -l | grep \"../lib/node_modules/\" | awk '{print $9}'| xargs rm")]),t._v(" åˆ é™¤å…¨å±€ node æ¨¡å—æ³¨å†Œçš„è½¯é“¾")])])]),t._v(" "),s("li",[t._v("nrm ç®¡ç†npmæºï¼ˆæˆ–é•œåƒæºï¼‰\n"),s("ul",[s("li",[s("code",[t._v("nrm ls")])]),t._v(" "),s("li",[s("code",[t._v("nrm use taobao")])])])]),t._v(" "),s("li",[t._v("npx ä¸€ä¸ªnpmåŒ…æ‰§è¡Œå™¨\n"),s("ul",[s("li",[t._v("ä¸´æ—¶å®‰è£…å¯æ‰§è¡Œä¾èµ–åŒ…ï¼Œä¸ç”¨å…¨å±€å®‰è£…ï¼Œä¸ç”¨æ‹…å¿ƒé•¿æœŸçš„æ±¡æŸ“ã€‚")]),t._v(" "),s("li",[t._v("å¯ä»¥æ‰§è¡Œä¾èµ–åŒ…ä¸­çš„å‘½ä»¤ï¼Œå®‰è£…å®Œæˆè‡ªåŠ¨è¿è¡Œ")])])]),t._v(" "),s("li",[t._v("åŸºäºŽ nodejs å¯åŠ¨ä¸€ä¸ªæœ¬åœ° http æœåŠ¡\n"),s("ul",[s("li",[t._v("http-server "),s("code",[t._v("hs dist -p 8090 -o")])]),t._v(" "),s("li",[t._v("serve "),s("code",[t._v("serve dist -l 3040")])])])]),t._v(" "),s("li",[t._v("npm-check æ£€æŸ¥ä¾èµ–åº“ç‰ˆæœ¬\n"),s("ul",[s("li",[s("code",[t._v("npm-check -ug")])])])]),t._v(" "),s("li",[t._v("gh-pages å‘å¸ƒæ–‡ä»¶åˆ° github ä»»æ„åˆ†æ”¯\n"),s("ul",[s("li",[t._v("å‘å¸ƒ dist ç›®å½•åˆ° gh-pages åˆ†æ”¯ï¼Œé™„å¸¦message "),s("code",[t._v("${branchName}-${commitId}")])]),t._v(" "),s("li",[s("code",[t._v("gh-pages -d dist --message $(git symbolic-ref --short -q HEAD)-$(git rev-parse --short HEAD)")])]),t._v(" "),s("li",[t._v("å¯é€‰å‚æ•°\n"),s("ul",[s("li",[t._v("å‘å¸ƒåˆ°è¿œç¨‹ "),s("code",[t._v("-r git@github.com:jskit/kit-admin.git")])]),t._v(" "),s("li",[t._v("å‘å¸ƒåˆ°åˆ†æ”¯ "),s("code",[t._v("-b newBranch")])])])])])]),t._v(" "),s("li",[t._v("jsnice åæ··æ·† js")]),t._v(" "),s("li",[t._v("pm2")]),t._v(" "),s("li",[t._v("eslint")]),t._v(" "),s("li",[t._v("babel-cli")]),t._v(" "),s("li",[t._v("@vue/cli åˆå§‹åŒ– vue é¡¹ç›®")]),t._v(" "),s("li",[t._v("sinopia")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://lernajs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lerna"),s("OutboundLink")],1),t._v(" æ˜¯ä¸€ä¸ªä¼˜åŒ–ä½¿ç”¨gitå’Œnpmç®¡ç†å¤šåŒ…å­˜å‚¨åº“çš„å·¥ä½œæµç¨‹çš„å·¥å…·ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"npm-åŒ…å‘å¸ƒæµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-åŒ…å‘å¸ƒæµç¨‹","aria-hidden":"true"}},[t._v("#")]),t._v(" npm åŒ…å‘å¸ƒæµç¨‹")]),t._v(" "),s("p",[t._v("å‘å¸ƒ npm åŒ…çš„æµç¨‹ç®€è¿°å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("å¦‚æžœè¿˜æ²¡æœ‰ npm å¸å·ï¼Œå¯ä»¥åˆ° npm å®˜ç½‘æ³¨å†Œä¸€ä¸ª npm å¸å·ã€‚")]),t._v(" "),s("li",[t._v("åœ¨æœ¬åœ°ç™»å½• npm å¸å·ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œï¼š")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" adduser\n")])])]),s("p",[t._v("æˆ–è€…")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" login\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("åœ¨å·²å®Œæˆç¼–å†™çš„ npm åŒ…æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" publish\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" unpublish xxx@x.x.x\n")])])]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("ä¸¤å°æ—¶å†…ï¼Œå‘å¸ƒçš„åŒ…å¯ä»¥æ’¤é”€ï¼Œä¹‹åŽå°±ä¸èƒ½æ’¤é”€äº†ã€‚")])]),t._v(" "),s("p",[t._v("åˆ°æ­¤ï¼Œnpm åŒ…å°±æˆåŠŸå‘å¸ƒåˆ° npm å¹³å°äº†ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("PSï¼šä¸€äº›å¼€å‘è€…åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½ä¿®æ”¹è¿‡ npm çš„æºï¼Œæ‰€ä»¥å½“è¿›è¡Œç™»å½•æˆ–å‘å¸ƒæ—¶éœ€è¦æ³¨æ„è¦å°†æºåˆ‡å›ž npm çš„æºã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å…³äºŽç§æœ‰-npm-åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºŽç§æœ‰-npm-åº“","aria-hidden":"true"}},[t._v("#")]),t._v(" å…³äºŽç§æœ‰ npm åº“")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("è¯·æ³¨æ„")]),t._v(" "),s("p",[t._v("å®žé™…æƒ…å†µä¸‹ï¼Œå¦‚æžœæ²¡æœ‰ç‰¹åˆ«è¦æ±‚æˆ–å®‰å…¨é™åˆ¶ï¼Œå¯ä»¥ä¸è€ƒè™‘ç§æœ‰åº“ï¼Œä½¿ç”¨ npm å¹³å°æ›´ç¨³å®šã€‚")])]),t._v(" "),s("p",[t._v("ä¸€èˆ¬æƒ…å†µï¼Œå…¬å¸å¯¹äºŽæ­å»ºæœ¬åœ°ç§æœ‰npmåº“æœ‰å¦‚ä¸‹è¦æ±‚ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç§æœ‰åŒ…æ‰˜ç®¡åœ¨å†…éƒ¨æœåŠ¡å™¨ä¸­")]),t._v(" "),s("li",[t._v("é¡¹ç›®ä¸­ä½¿ç”¨äº†å…¬å…±ä»“åº“ä¸Šçš„å…¬å…±åŒ…ï¼Œä¹Ÿä½¿ç”¨äº†å†…éƒ¨æœåŠ¡å™¨ä¸Šçš„ç§æœ‰åŒ…")]),t._v(" "),s("li",[t._v("å¸Œæœ›ä¸‹è½½çš„æ—¶å€™ï¼Œå…¬å…±åŒ…èµ°å…¬å…±ä»“åº“ï¼Œç§æœ‰åŒ…èµ°å†…éƒ¨æœåŠ¡å™¨çš„ç§æœ‰ä»“åº“")]),t._v(" "),s("li",[t._v("æœåŠ¡å™¨ç¡¬ç›˜æœ‰é™ï¼Œå¸Œæœ›åªç¼“å­˜ä¸‹è½½è¿‡çš„åŒ…ï¼Œè€Œä¸æ˜¯å…¨éƒ¨åŒæ­¥ã€‚")]),t._v(" "),s("li",[t._v("å¯¹äºŽä¸‹è½½ï¼Œå‘å¸ƒnpmåŒ…æœ‰å¯¹åº”çš„æƒé™ç®¡ç†ï¼Œå®‰è£…æ–¹ä¾¿ï¼Œé…ç½®ç®€å•ï¼Œä¾èµ–å°‘ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"cnpm-vs-sinopia"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cnpm-vs-sinopia","aria-hidden":"true"}},[t._v("#")]),t._v(" cnpm VS sinopia")]),t._v(" "),s("p",[t._v("-| cnpm | sinopia | sonatype\n------ |:-----ðŸ˜ -----:\nç³»ç»Ÿæ”¯æŒ | éžwindows | å…¨ç³»ç»Ÿ\nå®‰è£… | å¤æ‚ | ç®€å•\né…ç½® | è¾ƒå¤šï¼Œé€‚åˆä¸ªæ€§åŒ–éœ€æ±‚è¾ƒå¤šçš„ | è¾ƒå°‘\né…ç½®â€”â€”ä¿®æ”¹é»˜è®¤é•œåƒ | ä¸æ”¯æŒ | æ”¯æŒ\nå­˜å‚¨ | mysql | æ–‡ä»¶æ ¼å¼ï¼Œç›´è§‚\næœåŠ¡æ‰˜ç®¡ | é»˜è®¤åŽå°è¿è¡Œ | pm2, doker, forever\næ–‡æ¡£èµ„æ–™ | è¾ƒå¤š | è¾ƒå°‘")]),t._v(" "),s("h3",{attrs:{id:"åˆ°åº•è°æ¯”è¾ƒå¥½ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ°åº•è°æ¯”è¾ƒå¥½ï¼Ÿ","aria-hidden":"true"}},[t._v("#")]),t._v(" åˆ°åº•è°æ¯”è¾ƒå¥½ï¼Ÿ")]),t._v(" "),s("blockquote",[s("p",[t._v("æœ‰è¨€é“ï¼šè„±ç¦»ä¸šåŠ¡åœºæ™¯è°ˆè§£å†³æ–¹æ¡ˆï¼Œéƒ½æ˜¯è€æµæ°“ã€‚")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/659fb418c9e3",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¼ä¸šç§æœ‰ npm æœåŠ¡å™¨"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jaywcjlove/handbook/blob/master/CentOS/%E5%9C%A85%E5%88%86%E9%92%9F%E5%86%85%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E5%86%85%E9%83%A8%E7%A7%81%E6%9C%89npm%E4%BB%93%E5%BA%93.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ­å»ºå…¬å¸ç§æœ‰npmä»“åº“"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000005790827",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨Sinopiaæ­å»ºç§æœ‰çš„npmä»“åº“"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.competa.com/blog/how-to-run-npm-without-sudo/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to run npm without sudo"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#faq","aria-hidden":"true"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),s("p",[t._v("è¿™é‡Œæ”¶é›†ä¸€äº›é‡åˆ°çš„ npm é—®é¢˜")]),t._v(" "),s("ul",[s("li",[t._v("npm å®‰è£…å…¨å±€æ¨¡å—é¿å…ä½¿ç”¨ sudo")])]),t._v(" "),s("p",[t._v("To avoid requiring "),s("code",[t._v("sudo")]),t._v(" for "),s("code",[t._v("n")]),t._v(" and "),s("code",[t._v("npm")]),t._v(" global installs, it is suggested you either install to your home directory using "),s("code",[t._v("N_PREFIX")]),t._v(", or take ownership of the system directories:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# make cache folder (if missing) and take ownership")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /usr/local/n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoami")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" /usr/local/n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# take ownership of node install destination folders")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoami")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" /usr/local/bin /usr/local/lib /usr/local/include /usr/local/share\n")])])]),s("p",[t._v("source by https://github.com/tj/n")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000009709213",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm å’Œ yarn ç¼“å­˜ç­–ç•¥å¯¹æ¯”"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[t._v("npm\n"),s("ul",[s("li",[t._v("npm cache add ä¸»è¦æ˜¯ npm å†…éƒ¨ä½¿ç”¨")]),t._v(" "),s("li",[t._v("npm cache clean åˆ é™¤ç¼“å­˜ç›®å½•ä¸‹çš„æ‰€æœ‰æ•°æ®ã€‚ä»Ž npm@5 å¼€å§‹ï¼Œä¸ºäº†ä¿è¯ç¼“å­˜æ•°æ®çš„æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ï¼Œéœ€è¦åŠ ä¸Š --force å‚æ•°")]),t._v(" "),s("li",[t._v("npm cache verify éªŒè¯ç¼“å­˜æ•°æ®çš„æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ï¼Œæ¸…ç†åžƒåœ¾æ•°æ®")])])]),t._v(" "),s("li",[t._v("yarn\n"),s("ul",[s("li",[t._v("yarn cache ls åˆ—å‡ºå½“å‰ç¼“å­˜çš„åŒ…åˆ—è¡¨")]),t._v(" "),s("li",[t._v("yarn cache dir æ˜¾ç¤ºç¼“å­˜æ•°æ®çš„ç›®å½•")]),t._v(" "),s("li",[t._v("yarn cache clean æ¸…é™¤æ‰€æœ‰ç¼“å­˜æ•°æ®")])])])])])]),t._v(" "),s("p",[s("strong",[t._v("å‡çº§npm é‡åˆ°é”™è¯¯")])]),t._v(" "),s("p",[s("code",[t._v("sudo npm i -g npm")]),t._v(" å…¨å±€å‡çº§é‡åˆ°é”™è¯¯")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" Unexpected end of input at 1:574411\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" 3.4"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v("init-package-json"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("~1.9.3"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v("lockfile"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("~1.0.1"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v("lru-cache"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("~4\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),s("p",[t._v("ä½¿ç”¨ä¸€ä¸‹æ–¹æ³•å¤„ç†ä¸‹ç¼“å­˜ï¼Œä¹‹åŽå†é‡æ–°æ‰§è¡Œå®‰è£…å³å¯")]),t._v(" "),s("p",[s("code",[t._v("sudo npm cache verify -g")])]),t._v(" "),s("p",[s("strong",[t._v("h5_blade è€é¡¹ç›®è¿è¡Œä¸èµ·æ¥ï¼Œå¯èƒ½çš„åŽŸå› ")])]),t._v(" "),s("p",[s("code",[t._v("sudo npm i -g node-sass")]),t._v(" æŠ¥ä»¥ä¸‹é”™è¯¯")]),t._v(" "),s("p",[t._v("Error: EACCES, mkdir '/usr/local/lib/node_modules/node-sass' - installing globally")]),t._v(" "),s("p",[t._v("è§£å†³æ–¹æ¡ˆï¼ˆh5_bladeé¡¹ç›®ï¼‰")]),t._v(" "),s("p",[t._v("æœ‰è¯´è¦æ¸…é™¤cacheï¼Œæ­¤å¤„è§£å†³æ–¹æ¡ˆä¸æ˜Žï¼Œåœ¨ä½¿ç”¨ "),s("code",[t._v("npm cache clean --force")]),t._v(" åˆ é™¤äº† ~/.npm/_cacache åŽï¼Œé‡æ–° npm i å¥½äº†ï¼ŒåŒæ—¶æ³¨æ„å½“å‰çš„ npm@5.6.0 å’Œ nodejs@9.11.2 ç‰ˆæœ¬")]),t._v(" "),s("p",[t._v("ä»¥ä¸‹ä¸ºè§£å†³åŠžæ³•æ­¥éª¤ï¼ˆ"),s("strong",[t._v("ä¸éœ€è¦")]),t._v("å®‰è£…å…¨å±€çš„node-sassï¼‰")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache verify\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [æ¸…é™¤ç¼“å­˜](https://docs.npmjs.com/cli/cache)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rm -rf ~/.npm/_cacache")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache clean --force\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ é™¤å½“å‰é¡¹ç›®ä¸‹çš„ node_modules")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf node_modules\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g node-gyp node-pre-gyp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i\n")])])]),s("p",[t._v("æŠ¥é”™ Install failed with Node v.10 due to upath@1.0.4 incompatibility")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("error upath@1.0.4: The engine "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),t._v(" is incompatible with this module. Expected version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=4 <=9"')]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" Got "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.14.1"')]),t._v("\nerror Found incompatible module\n")])])]),s("p",[t._v("è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("p",[t._v("Instead, the proper solution is to delete "),s("code",[t._v("node_modules/")]),t._v(", "),s("code",[t._v("package-lock.json")]),t._v(" & "),s("code",[t._v("yarn.lock")]),t._v(" and run "),s("code",[t._v("yarn")]),t._v(" install or "),s("code",[t._v("npm i")]),t._v(" again.")]),t._v(" "),s("p",[t._v("å®‰è£…phantomjs-prebuiltï¼ŒæŠ¥é”™ "),s("code",[t._v("PhantomJS not found on PATH")])]),t._v(" "),s("p",[t._v("ç”±äºŽå¤©æœç½‘ç»œçš„åŽŸå› ï¼šå®ƒçš„å®‰è£…è¿‡ç¨‹ä¸­è¦åŽ» github ä¸‹è½½ä¸€ä¸ªåŒ…ï¼Œè€Œ github release æ–‡ä»¶æ”¾åœ¨äºšé©¬é€Š aws ä¸Šï¼ˆè¢«å¢™äº†ï¼‰ã€‚è§£å†³æ–¹æ³•æ˜¯å€ŸåŠ©æ·˜å®é•œåƒ (https://npm.taobao.org/mirrors/phantomjs/) å®‰è£…ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("PHANTOMJS_CDNURL=https://npm.taobao.org/mirrors/phantomjs/\nnpm install phantomjs-prebuilt\n")])])]),s("p",[t._v("phantomjs å·²æ”¹åä¸º phantomjs-prebuilt")]),t._v(" "),s("p",[t._v("åŒæ ·å®‰è£… node-sass ä¹Ÿä¼šå‡ºçŽ°ç±»ä¼¼çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ³•ä¾ç„¶æ˜¯æ·˜å®é•œåƒ:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/\nnpm install node-sass\n")])])]),s("p",[t._v("å¦‚æžœä¸æƒ³æ¯æ¬¡éƒ½è¾“å…¥å‰é¢å˜é‡å¯ä»¥å°†å®ƒä»¬å†™å…¥ ~/.npmrc æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å¦‚ä¸‹æ·»åŠ ")]),t._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# ~/.npmrc\nsass_binary_site = https://npm.taobao.org/mirrors/node-sass/\nphantomjs_cdnurl = https://npm.taobao.org/mirrors/phantomjs/\n")])])]),s("p",[t._v("å¦‚æžœå·²ç»è®¾ç½®äº† yarn çš„é•œåƒæºä¸ºæ·˜å®é•œåƒï¼Œä¹Ÿåœ¨ ~/.npmrc ä¸­è®¾ç½®äº† phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/ï¼Œä½†æ‰§è¡Œ yarn install æ—¶è¿˜æ˜¯æ— æ³•æ­£ç¡®å®‰è£… PhantomJS")]),t._v(" "),s("p",[t._v("è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæ ¹æ®é”™è¯¯æç¤ºï¼Œæ‰‹åŠ¨åˆ° https://npm.taobao.org/mirrors/phantomjs//phantomjs-2.1.1-linux-x86_64.tar.bz2 ä¸‹è½½ PhantomJS æ–‡ä»¶ï¼Œå¹¶å°†è¯¥æ–‡ä»¶æ‹·è´åˆ° /tmp/phantomjs ç›®å½•ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" phantomjs-2.1.1-linux-x86_64.tar.bz2 /tmp/phantomjs\n")])])]),s("p",[t._v("å®‰è£… "),s("code",[t._v("puppeteer")]),t._v(" æ€»æ˜¯è¶…æ—¶æ€Žä¹ˆåŠžï¼Ÿ")]),t._v(" "),s("p",[t._v("è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("p",[t._v("ä¸»è¦æ˜¯å› ä¸ºå®‰è£… "),s("code",[t._v("puppeteer")]),t._v(" ä¼šå®‰è£… Chromiumï¼Œæ¢¯å­ä¸å¤Ÿé•¿ä¼šå¯¼è‡´å®‰è£…å¤±è´¥ã€‚å¯ä»¥ä»…å®‰è£… "),s("code",[t._v("puppeteer-core")]),t._v("ï¼Œç„¶åŽæŒ‡å®šæœ¬åœ°çš„ chrome/Chromium æµè§ˆå™¨è·¯å¾„ï¼Œè¿™æ ·å°±ä¸éœ€è¦å†å®‰è£… Chromium æµè§ˆå™¨äº†")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" puppeteer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puppeteer-core'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨æ—¶å¦‚ä¸‹")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" browser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" puppeteer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("launch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// headless: false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œæ³¨æ„è·¯å¾„æŒ‡å‘å¯æ‰§è¡Œçš„æµè§ˆå™¨ã€‚")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å„å¹³å°è·¯å¾„å¯ä»¥åœ¨ node_modules/puppeteer-core/lib/BrowserFetcher.js ä¸­æ‰¾åˆ°")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// executablePath: path.resolve('/Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome')")]),t._v("\n    executablePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Applications/Chromium.app/Contents/MacOS/Chromium'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" page "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pageInit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™æ ·å°±ä¸å¿…å®‰è£… "),s("code",[t._v("puppeteer")]),t._v(" åŒ…äº†")]),t._v(" "),s("p",[s("strong",[t._v("brew install nvm å®‰è£…æ…¢æ€Žä¹ˆåŠž")])]),t._v(" "),s("p",[t._v("åœ¨å¤©æœæ˜¯æ…¢, å¯ä»¥ä¿®æ”¹ "),s("code",[t._v("~/.zshrc")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nvm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" NVM_NODEJS_ORG_MIRROR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://npm.taobao.org/mirrors/node\n")])])])])},[],!1,null,null,null);n.default=e.exports}}]);